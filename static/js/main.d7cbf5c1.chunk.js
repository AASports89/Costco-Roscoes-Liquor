(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{42:function(e,t,s){},53:function(e,t,s){},55:function(e,t,s){"use strict";s.r(t);var a=s(0),i=s.n(a),n=s(20),r=s.n(n);s(42),s(43),s(44),s(45),s(46),s(51);var c=e=>{e&&e instanceof Function&&Promise.resolve().then(s.bind(null,51)).then(t=>{let{getCLS:s,getFID:a,getFCP:i,getLCP:n,getTTFB:r}=t;s(e),a(e),i(e),n(e),r(e)})},l=s(13),o=s(21),d=s.n(o),j=s.p+"static/media/logo.c9f654a4.svg",b=s(29);var m,u,g,p=new class{getProfile(){return Object(b.a)(this.getToken())}loggedIn(){const e=this.getToken();return!(!e||this.isTokenExpired(e))}isTokenExpired(e){return Object(b.a)(e).exp<Date.now()/1e3&&(localStorage.removeItem("id_token"),!0)}getToken(){return localStorage.getItem("id_token")}login(e){localStorage.setItem("id_token",e),window.location.assign("/")}logout(){localStorage.removeItem("id_token"),window.location.reload()}},x=s(24),h=s(66),O=s(11),v=s(65);const f=Object(v.a)(m||(m=Object(O.a)(["\n  mutation login($email: String!, $password: String!) {\n    login(email: $email, password: $password) {\n      token\n      user {\n        _id\n        username\n      }\n    }\n  }\n"])));Object(v.a)(u||(u=Object(O.a)(["\n  mutation addUser($username: String!, $email: String!, $password: String!) {\n    addUser(username: $username, email: $email, password: $password) {\n      token\n      user {\n        _id\n        username\n      }\n    }\n  }\n"]))),Object(v.a)(g||(g=Object(O.a)(["\n  mutation addDriverLog($driverLogId: ID!) {\n    addDriverLog(driverLogId: $driverLogId) {\n      _id\n      total_fill\n      total_cost\n      createdAt\n    }\n  }\n"])));var y=s(1);var N,w,_,D,L=e=>{const[t,s]=Object(a.useState)({email:"",password:""}),[i,{error:n,data:r}]=Object(h.a)(f),c=e=>{const{name:a,value:i}=e.target;s(Object(x.a)(Object(x.a)({},t),{},{[a]:i}))};return Object(y.jsx)("main",{className:"flex-row justify-center mb-4",children:Object(y.jsx)("div",{className:"col-12 col-lg-10",children:Object(y.jsxs)("div",{className:"card",id:"log",children:[Object(y.jsx)("h4",{id:"login",className:"card-header",children:"Login"}),Object(y.jsxs)("div",{className:"card-body",children:[r?Object(y.jsxs)("p",{children:["Success! You may now head"," ",Object(y.jsx)(l.b,{to:"/",children:"back to the homepage."})]}):Object(y.jsxs)("form",{onSubmit:async e=>{e.preventDefault(),console.log(t);try{const{data:e}=await i({variables:Object(x.a)({},t)});p.login(e.login.token)}catch(a){console.error(a)}s({email:"",password:""})},children:[Object(y.jsx)("input",{className:"form-input",placeholder:"Your email",name:"email",type:"email",value:t.email,onChange:c}),Object(y.jsx)("input",{className:"form-input",placeholder:"******",name:"password",type:"password",value:t.password,onChange:c}),Object(y.jsx)("button",{className:"btn btn-block btn-primary",style:{cursor:"pointer"},type:"submit",children:"Submit \ud83d\udcec"})]}),n&&Object(y.jsx)("div",{id:"alert",className:"my-3 p-3 text-white",children:n.message})]})]})})})},k=s(64);Object(v.a)(N||(N=Object(O.a)(["\n  query user($username: String!) {\n    user(username: $username) {\n      _id\n      username\n      email\n      driverLogs {\n        _id\n        total_fill\n        total_cost\n        createdAt\n      }\n    }\n  }\n"])));const I=Object(v.a)(w||(w=Object(O.a)(["\n  query getDriverLogs {\n    driverLogs {\n      _id\n      name\n      total_fill\n      total_cost\n      createdAt\n    }\n  }\n"])));Object(v.a)(_||(_=Object(O.a)(["\n  query getSingleDriverLog($driverLogId: ID!) {\n    driverLog(driverLogId: $driverLogId) {\n      _id\n      total_fill\n      total_cost\n      createdAt\n    }\n  }\n"]))),Object(v.a)(D||(D=Object(O.a)(["\n  query me {\n    me {\n      _id\n      username\n      email\n      driverLogs {\n        _id\n        total_fill\n        total_cost\n        createdAt\n      }\n    }\n  }\n"])));var S=(new Date).toString().split(" ").splice(1,3).join(" ");document.write(S);var $=()=>{const{loading:e,data:t}=Object(k.a)(I),s=(null===t||void 0===t?void 0:t.driverLogs)||[];return s.length?(console.log(s),Object(y.jsxs)("div",{children:[e?Object(y.jsx)("div",{children:"Loading...\ud83d\udcb8..."}):Object(y.jsxs)("div",{className:"flex-row justify-center",id:"parlaying",children:[Object(y.jsx)("div",{className:"flex-row justify-center",children:Object(y.jsxs)("h5",{id:"par-title",children:["Driver Logs for: ",S," [",Object(y.jsx)("img",{id:"tips_icon",src:"https://res.cloudinary.com/dhqsixgmo/image/upload/v1765664437/log_actmp7.svg",class:"card-img-top mx-auto",alt:"Driver Logs"}),"]"]})}),s&&s.map(e=>Object(y.jsxs)("div",{className:"card mb-3",id:"game-cardss",children:[Object(y.jsx)("p",{className:"card-body",children:e.user}),Object(y.jsxs)("p",{className:"card-body",children:[" Total Fill: ",e.total_fill]}),Object(y.jsxs)("p",{className:"card-body",children:["Total Cost: ",e.total_cost," "]})]},e._id))]}),";"]})):Object(y.jsxs)("h3",{children:["Driver [",Object(y.jsx)("img",{id:"tips_icon",src:"https://res.cloudinary.com/dhqsixgmo/image/upload/v1765664437/log_actmp7.svg",class:"card-img-top mx-auto",alt:"Driver Logs"}),"]"]})};var q=()=>{Object(a.useEffect)(()=>{d.a.init({duration:2e3}),window.addEventListener("scroll",()=>{})},[]);return Object(y.jsxs)("header",{id:"header",className:"flex-row justify-center",children:[Object(y.jsx)("div",{className:"col",children:Object(y.jsx)("img",{id:"royal-icon",className:"img-card-overlay",src:j,alt:"Costco Roscoe's Liquor"})}),Object(y.jsx)("nav",{className:"navbar navbar-expand-lg navbar-light bg-light",children:p.loggedIn()?Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)("div",{className:"col",children:Object(y.jsxs)(l.b,{className:"btn",to:"/me",children:[p.getProfile().data.username,"'s Dashboard \ud83c\udf9b\ufe0f"]})}),Object(y.jsx)("div",{className:"col",children:Object(y.jsx)("button",{className:"btn",onClick:e=>{e.preventDefault(),p.logout()},children:"Logout \ud83d\udcf4"})})]}):Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)("div",{className:"col",children:Object(y.jsxs)(l.b,{className:"btn",id:"login-btn",onClick:L,children:[Object(y.jsx)("b",{children:"Admin Login"})," ",Object(y.jsx)("i",{id:"login-icon",className:"fa-solid fa-user"})]})}),Object(y.jsx)("div",{className:"col",children:Object(y.jsxs)(l.b,{className:"btn",id:"login-btn",onClick:$,children:[Object(y.jsx)("b",{children:"Driver[ "})," ",Object(y.jsx)("img",{id:"tips_icon_1",src:"https://res.cloudinary.com/dhqsixgmo/image/upload/v1765664437/log_actmp7.svg",class:"card-img-top mx-auto",alt:"Driver Logs"}),Object(y.jsx)("b",{children:" ]"})]})})]})})]})};s(53);var C=function(){d.a.init({duration:3e3});const e=(new Date).getFullYear();return Object(y.jsxs)("div",{className:"container-fluid",children:[Object(y.jsx)(q,{}),Object(y.jsx)("div",{className:"row justify content center",id:"embed-1",children:Object(y.jsxs)("div",{className:"card-body",children:[Object(y.jsxs)("h5",{className:"card-title",id:"tips_title",children:["Enter Driver [",Object(y.jsx)("img",{id:"tips_icon",src:"https://res.cloudinary.com/dhqsixgmo/image/upload/v1765664437/log_actmp7.svg",class:"card-img-top mx-auto",alt:"Driver Logs"}),"]"]}),Object(y.jsxs)("form",{className:"flex-row justify-center mb-4",id:"purpose_row",children:[Object(y.jsxs)("div",{className:"flex-row justify-center mb-4",children:[Object(y.jsx)("label",{for:"validationDefaultUsername",class:"form-label",children:"Driver ID"}),Object(y.jsxs)("div",{class:"input-group",children:[Object(y.jsx)("span",{class:"input-group-text",id:"inputGroupPrepend2",children:"ID-"}),Object(y.jsx)("input",{type:"text",class:"form-control",id:"validationDefaultUsername","aria-describedby":"inputGroupPrepend2",placeholder:"Driver ID",required:!0})]})]}),Object(y.jsxs)("div",{className:"flex-row justify-center mb-4",children:[Object(y.jsx)("label",{for:"validationDefault01",class:"form-label",children:"Total Gallons"}),Object(y.jsxs)("div",{class:"input-group",children:[Object(y.jsx)("span",{class:"input-group-text",id:"inputGroupPrepend2",children:"#"}),Object(y.jsx)("input",{type:"text",class:"form-control",id:"validationDefault01",placeholder:"0",required:!0})]})]}),Object(y.jsxs)("div",{className:"flex-row justify-center mb-4",children:[Object(y.jsx)("label",{for:"validationDefault02",class:"form-label",children:"Total Cost"}),Object(y.jsxs)("div",{class:"input-group",children:[Object(y.jsx)("span",{class:"input-group-text",id:"inputGroupPrepend2",children:"$"}),Object(y.jsx)("input",{type:"text",class:"form-control",id:"validationDefault02","aria-describedby":"inputGroupPrepend2",placeholder:"0.00",required:!0})]})]})]})]})}),Object(y.jsx)("footer",{id:"footer",className:" fixed-bottom navbar navbar-expand-lg navbar-light bg-light",children:Object(y.jsxs)("div",{className:"mx-auto",children:[Object(y.jsx)("a",{id:"icon-link",className:"col px-5",href:"https://aasports89.github.io/Costco-Roscoes-Liquor/",children:Object(y.jsx)("img",{id:"royal-icon",className:"img-card-overlay",src:j,alt:"Costco Roscoe's Liquor"})}),Object(y.jsx)("p",{className:"mx-auto",id:"footer-title",children:Object(y.jsxs)("b",{id:"footer-bold",children:["\xa9 Costco Roscoe's Liquor - ",e,". All Rights Reserved."]})})]})})]})};r.a.render(Object(y.jsx)(i.a.StrictMode,{children:Object(y.jsx)(l.a,{children:Object(y.jsx)(C,{})})}),document.getElementById("root")),c()}},[[55,1,2]]]);
//# sourceMappingURL=main.d7cbf5c1.chunk.js.map